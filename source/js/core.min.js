console.log("\n %c Dnxrzl "+" %c MaterialYour %c \n","color:#fff;background:#6cf;padding:5px 0;border: 1px solid #6cf;","color:#6cf;background:none;padding:5px 0;border: 1px solid #6cf;","");console.log("Ëè©Ëê®‰øù‰ΩëÔºåÊ≤°ÊúâÊä•Èîôüôèüôèüôè");const dnxrzl={dnScroll:function(){var i=1;$(document).scroll(function(){if(i==1){i++;dnxrzl.dnScroll()}});let head=$("#selfAppbar");if($(document).scrollTop()>1){head.removeClass("mdui-shadow-0")}else{head.addClass("mdui-shadow-0")}},autoImg:function(){var i=1;$(window).resize(function(){if(i==1){i++;dnxrzl.autoImg()}});if(window.innerWidth>=700&&window.innerWidth<900){$(".postBackground").css("height","270px")}else if(window.innerWidth>=900){$(".postBackground").css("height","290px")}else{$(".postBackground").css("height","220px")}},copyLink:function(){let postclipboard=new ClipboardJS(".postCopyLink");postclipboard.on("success",function(e){mdui.snackbar({message:"Â∑≤Â§çÂà∂",position:"right-top"})})},gettime:function(){var date=new Date;$("#timeyear").text(date.getFullYear())},getcolor:function(){let body=$("body");let bc=$(".mdui-toolbar").css("background-color");let bct=$(".mdui-toolbar").css("color");body.css("--themeColor",bc);body.css("--fontColor",bct)},welcome:function(){var welcome=$(".welcome_hello");var hour=(new Date).getHours();if(hour>=6&&hour<12){welcome.text("Êó©‰∏äÂ•Ω!")}else if(hour>=12&&hour<14){welcome.text("‰∏≠ÂçàÂ•Ω!")}else if(hour>=14&&hour<19){welcome.text("‰∏ãÂçàÂ•Ω!")}else if(hour>=19&&hour<22){welcome.text("Êôö‰∏äÂ•Ω!")}else{welcome.text("ÊôöÂÆâ!")}},totop:function(){$(".totop").click(function(){$("html,body").animate({scrollTop:0},300)});$(window).scroll(function(){if($(window).scrollTop()>800){$(".totop").fadeIn(300)}else{$(".totop").fadeOut(300)}})},journlike:function(){$(document).on("click",".likeb",function(){var likeNum=$(this).attr("id");let lid=$(this);if(lid.attr("clickNum")=="true"){lid.attr("clickNum","false");$.ajax({url:"/api/content/journals/"+likeNum+"/likes",type:"POST",async:true,crossDomain:true,headers:{},success:function(data){lid.addClass("journliked");lid.next().addClass("journliked");lid.next().text(parseInt(lid.next().text())+1)},timeout:3e3,error:function(){mdui.snackbar({message:"ÁΩëÁªúËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÂÜçËØï",position:"right-top"})}})}else{mdui.snackbar({message:"Â∑≤ÁªèËµûËøáÂï¶~",position:"right-top"})}})},journComment:function(){$(document).on("click",".chatb",function(){$(this).parents(".journBottom").next().toggle()})},picInit:function(){if(window.location.pathname.search("/photos")!=-1){var psrc=$(".grid img")}else{var psrc=$(".mdui-typo img")}psrc.each(function(){$(this).parent().attr({"data-fancybox":"gallery","data-src":$(this).attr("src")})})},nodindex:function(){if(postyes!="true"){$(".nodindex").css("display","none")}else{$(".nodindex").removeAttr("style")}},switchIndex:function(){var t=0;var i=0;function tocbotInit(optCss){tocbot.init({tocSelector:optCss,contentSelector:".js-toc-content",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:true,headingsOffset:80,scrollSmoothOffset:-80,fixedSidebarOffset:"auto"});if($(".pindex,.mobileIndex").children().length==0){t++;$(".pindex,.mobileIndex").html("<p>ÊñáÁ´†Êó†ÁõÆÂΩï</p>")}}if(window.innerWidth>800){tocbotInit(".index")}else{tocbotInit(".indexs")}var resizeTimer=null;$(window).resize(function(){if(i==0&&t==0){if(resizeTimer){clearTimeout(resizeTimer)}resizeTimer=setTimeout(function(){dnxrzl.switchIndex();i++},500)}})},mfancybox:function(){Fancybox.bind("[data-fancybox]",{Thumbs:false,Image:{zoom:true},Toolbar:{display:["zoom","download","close"]}})},mistope:function(){var $grid=$(".grid").isotope({itemSelector:".grid-item",percentPosition:true,layoutMode:"masonry",masonry:{columnWidth:".grid-item"}});$grid.imagesLoaded().progress(function(){$grid.isotope()});var md=mdui.$;var inst=new mdui.Tab("#tab");md("#tab").on("change.mdui.tab",function(event){let mfilter="."+event._detail.id;if(mfilter==".all"){$grid.isotope({filter:""})}else{$grid.isotope({filter:mfilter})}})},ajaxPostLists:function(){let loadingText=$(".loadingText");let loadingSvg=$(".loadingSvg");let ajaxPostLists=$("button.ajaxPostLists");$("button.ajaxPostLists").on("click",function(){let currentPageUrl=$("button.ajaxPostLists").attr("data-href");if(ajaxPostLists.attr("data-href")!="null"){loadingText.addClass("reloadingText");loadingSvg.addClass("startLoadingSvg");$.ajax({url:currentPageUrl,type:"GET",dataType:"html",async:false,crossDomain:true,success:function(data){let nextPageUrl=$(data).find("button.ajaxPostLists").attr("data-href");let loadTime=setTimeout(()=>{clearTimeout(loadTime);if(currentPageUrl.search("journals")!=-1){$(".journalList .journItem:last-child").after($(data).find(".journalList .journItem"));dnxrzl.picInit();darkMode.firstDark();dnxrzl.dealCodeHighlight()}else if(currentPageUrl.search("archives")!=-1){let aper=parseInt($(".archMain .archCell:last-child .archiveyear").text());let aafter=parseInt($(data).find(".archMain .archCell:first-child .archiveyear").text());let archCont=$(data).find(".archMain");if(aper==aafter){archCont.find(".archCell:first-child .archiveyear")[0].remove();$(".archMain:last-child").after(archCont)}else{$(".archMain:last-child").after(archCont)}}else{$(".postLayout article:last-child").after($(data).find(".postLayout > article"));dnxrzl.mylazyload()}if(nextPageUrl==undefined){loadingText.text("Ê≤°ÊúâÂï¶");loadingText.removeClass("reloadingText");loadingSvg.removeClass("startLoadingSvg")}else{loadingText.removeClass("reloadingText");loadingSvg.removeClass("startLoadingSvg")}},300);if(nextPageUrl==undefined){ajaxPostLists.attr("data-href","null")}else{ajaxPostLists.attr("data-href",nextPageUrl)}},timeout:3e3,error:function(){mdui.snackbar({message:"Êú™ÂìçÂ∫îÔºÅ",position:"right-top"})}})}})},searchNew:function(){let dform=$(".searchInput");let dfinput=$(".searchInput input");$(document).on("click",".searchNew,.searchInput .back",function(){if(dform.css("display")=="none"){dform.css("display","flex");dfinput.focus()}else{dform.css("display","none")}});dfinput.blur(function(){dform.css("display","none")});$(document).on("mousedown",".backClose",function(){event.preventDefault();dfinput.val("");dform.removeClass("notEmoty")});$(".searchInput input").bind("input propertychange",function(event){if(dfinput.val().length!=0){dform.addClass("notEmoty")}else{dform.removeClass("notEmoty")}})},oneWord:function(){if(oneWord!="false"){$.ajax({url:"https://v1.hitokoto.cn/"+mconfig,type:"GET",dataType:"json",data:aWordConfig,async:true,crossDomain:true,success:function(data){$(".welcome_descr").text(data.hitokoto+"‚Äî‚Äî"+(data.from_who!=null?data.from_who:"")+"„Äå"+(data.from!=null?data.from:"")+"„Äç")}})}},mylazyload:function(){let img=$(".lazyloadImg");img.lazyload()},codeCopy:function(){let clipboard=new ClipboardJS(".mybtn");clipboard.on("success",function(e){e.clearSelection();mdui.snackbar({message:"Â∑≤Â§çÂà∂",position:"right-top"})})},dealCodeHighlight:function(){var hljsNum=1;$(".mdui-typo pre").each(function(){$(this).children("code").attr("id","hljs"+hljsNum);var copyButton='<button class="mybtn" data-clipboard-target="'+"#hljs"+hljsNum+'" mdui-tooltip="{content: \'Â§çÂà∂\'}"><i class="mdui-icon material-icons">content_copy</i></button>';hljsNum++;$(this).append(copyButton);var $code=$(this).children("code");var classNameStr=$code[0].className;var classNameArr=classNameStr.split(" ");var lang="";classNameArr.some(function(className){if(className.indexOf("language-")>-1){lang=className.substring(className.indexOf("-")+1,className.length);return true}});var language=hljs.getLanguage(lang.toLowerCase());if(language==undefined){var autolanguage=hljs.highlightAuto($code.text());$code.removeClass("language-"+lang);lang=autolanguage.language;if(lang==undefined){lang="text"}$code.addClass("language-"+lang)}});$(".mdui-typo pre code").each(function(i,block){hljs.lineNumbersBlock(block)});$(".mdui-typo pre code").each(function(){if(!$(this).hasClass("inited")){hljs.highlightElement(this);$(this).addClass("inited")}})},autoDarkTips:function(){if(localStorage.getItem("autoDark")=="true"&&localStorage.getItem("darkTipsOk")==null){localStorage.setItem("darkTipsOk",0);mdui.snackbar({message:"Â∑≤Ëá™Âä®ÂàáÊç¢ÈªëÊöóÊ®°Âºèüåô",position:"right-top"})}}};!function(){document.addEventListener("DOMContentLoaded",function(){Object.values(dnxrzl).forEach(f=>f())})}();