/**
 * halo_materialyour - 一个Material风格的Halo博客主题
 * @authors Dnxrzl
 * @version v2.0.0
 * @link https://github.com/daifiyum/halo-theme-MaterialYour#readme
 * @license MIT
 */
"use strict";console.log("\n %c Dnxrzl  %c MaterialYour %c \n","color:#fff;background:#6cf;padding:5px 0;border: 1px solid #6cf;","color:#6cf;background:none;padding:5px 0;border: 1px solid #6cf;",""),console.log("菩萨保佑，没有报错🙏🙏🙏");var dnxrzl={dnScroll:function(){var t=1,o=($(document).scroll(function(){1==t&&(t++,dnxrzl.dnScroll())}),$("#selfAppbar"));1<$(document).scrollTop()?o.removeClass("mdui-shadow-0"):o.addClass("mdui-shadow-0")},autoImg:function(){var t=1;$(window).resize(function(){1==t&&(t++,dnxrzl.autoImg())}),700<=window.innerWidth&&window.innerWidth<900?$(".postBackground").css("height","270px"):900<=window.innerWidth?$(".postBackground").css("height","290px"):$(".postBackground").css("height","220px")},copyLink:function(){new ClipboardJS(".postCopyLink").on("success",function(t){mdui.snackbar({message:"已复制",position:"right-top"})})},gettime:function(){var t=new Date;$("#timeyear").text(t.getFullYear())},getcolor:function(){var t=$("body"),o=$(".mdui-toolbar").css("background-color"),n=$(".mdui-toolbar").css("color");t.css({"--themeColor":o,"--fontColor":n})},welcome:function(){var t=$(".welcome_hello"),o=(new Date).getHours();6<=o&&o<12?t.text("早上好!"):12<=o&&o<14?t.text("中午好!"):14<=o&&o<19?t.text("下午好!"):19<=o&&o<22?t.text("晚上好!"):t.text("晚安!")},totop:function(){$(".totop").click(function(){$("html,body").animate({scrollTop:0},300)}),$(window).scroll(function(){800<$(window).scrollTop()?$(".totop").fadeIn(300):$(".totop").fadeOut(300)})},journlike:function(){$(document).on("click",".likeb",function(){var t=$(this).attr("id"),o=$(this);"true"==o.attr("clickNum")?(o.attr("clickNum","false"),$.ajax({url:"/api/content/journals/"+t+"/likes",type:"POST",async:!0,crossDomain:!0,headers:{},success:function(t){o.addClass("journliked"),o.next().addClass("journliked"),o.next().text(parseInt(o.next().text())+1)},timeout:3e3,error:function(){mdui.snackbar({message:"网络请求失败，请稍后再试",position:"right-top"})}})):mdui.snackbar({message:"已经赞过啦~",position:"right-top"})})},journComment:function(){$(document).on("click",".chatb",function(){$(this).parents(".journBottom").next().toggle()})},picInit:function(){(-1!=window.location.pathname.search("/photos")?$(".grid img"):$(".mdui-typo img")).each(function(){$(this).parent().attr({"data-fancybox":"gallery","data-src":$(this).attr("src")})})},switchIndex:function(){tocbot.init({tocSelector:".toc-content",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3, h4, h5, h6",headingsOffset:80,scrollSmoothOffset:-80}),"true"==postyes&&0!=$(".toc-content").children().length?($(".swmenu").css("display","none"),$(".toc-content").css("display","block")):$(".swtoc").css("display","none"),$(document).on("click",".swtocl",function(){$(".swmenu").show(),$(".toc-content").hide()}),$(document).on("click",".swtocr",function(){$(".swmenu").hide(),$(".toc-content").show()})},mfancybox:function(){Fancybox.bind("[data-fancybox]",{Thumbs:!1,Image:{zoom:!0},Toolbar:{display:["zoom","download","close"]}})},mistope:function(){var o=$(".grid").isotope({itemSelector:".grid-item",percentPosition:!0,layoutMode:"masonry",masonry:{columnWidth:".grid-item"}}),t=(o.imagesLoaded().progress(function(){o.isotope()}),mdui.$);new mdui.Tab("#tab");t("#tab").on("change.mdui.tab",function(t){t="."+t._detail.id;".all"==t?o.isotope({filter:""}):o.isotope({filter:t})})},ajaxPostLists:function(){var c=$(".loadingText"),r=$(".loadingSvg"),t=$("button.ajaxPostLists");$("button.ajaxPostLists").on("click",function(){var s=$("button.ajaxPostLists").attr("data-href");"null"!=t.attr("data-href")&&(c.addClass("reloadingText"),r.addClass("startLoadingSvg"),$.ajax({url:s,type:"GET",dataType:"html",async:!1,crossDomain:!0,success:function(e){var a=$(e).find("button.ajaxPostLists").attr("data-href"),i=setTimeout(function(){var t,o,n;clearTimeout(i),-1!=s.search("journals")?($(".journalList .journItem:last-child").after($(e).find(".journalList .journItem")),dnxrzl.picInit(),darkMode.firstDark(),dnxrzl.dealCodeHighlight(),dnxrzl.table()):-1!=s.search("archives")?(t=parseInt($(".archMain .archCell:last-child .archiveyear").text()),o=parseInt($(e).find(".archMain .archCell:first-child .archiveyear").text()),n=$(e).find(".archMain"),t==o&&n.find(".archCell:first-child .archiveyear")[0].remove(),$(".archMain:last-child").after(n)):($(".post-list article:last-child").after($(e).find(".post-list > article")),dnxrzl.mylazyload()),null==a&&c.text("没有啦"),c.removeClass("reloadingText"),r.removeClass("startLoadingSvg")},300);null==a?t.attr("data-href","null"):t.attr("data-href",a)},timeout:3e3,error:function(){mdui.snackbar({message:"未响应！",position:"right-top"})}}))})},searchNew:function(){var o=$(".searchInput"),n=$(".searchInput input"),t=$(".searchMask"),e=$("body"),a=$("header .mdui-appbar");$(document).on("click",".searchNew,.searchInput .back",function(){"none"==o.css("display")?(o.css("display","flex"),n.focus(),t.css("display","block").animate({opacity:.5},300,function(){e.css("overflow","hidden"),a.removeClass("mdui-headroom")})):o.css("display","none")}),n.blur(function(){o.css("display","none"),t.animate({opacity:0},300,function(){t.css("display","none"),e.css("overflow","initial"),a.addClass("mdui-headroom")})}),$(document).on("mousedown",".backClose",function(){event.preventDefault(),n.val(""),o.removeClass("notEmoty")}),$(".searchInput input").bind("input propertychange",function(t){0!=n.val().length?o.addClass("notEmoty"):o.removeClass("notEmoty")})},oneWord:function(t){function o(){return t.apply(this,arguments)}return o.toString=function(){return t.toString()},o}(function(){"false"!=oneWord&&$.ajax({url:"https://v1.hitokoto.cn/"+mconfig,type:"GET",dataType:"json",data:aWordConfig,async:!0,crossDomain:!0,success:function(t){$(".welcome_descr").text(t.hitokoto+"——"+(null!=t.from_who?t.from_who:"")+"「"+(null!=t.from?t.from:"")+"」")}})}),mylazyload:function(){$(".lazyloadImg").lazyload()},codeCopy:function(){new ClipboardJS(".mybtn").on("success",function(t){t.clearSelection(),mdui.snackbar({message:"已复制",position:"right-top"})})},dealCodeHighlight:function(){var e=1;$(".mdui-typo pre").each(function(){$(this).children("code").attr("id","hljs"+e);var t='<button class="mybtn" data-clipboard-target="#hljs'+e+'" mdui-tooltip="{content: \'复制\'}"><i class="mdui-icon material-icons">content_copy</i></button>',t=(e++,$(this).append(t),$(this).children("code")),o=t[0].className.split(" "),n="";o.some(function(t){if(-1<t.indexOf("language-"))return n=t.substring(t.indexOf("-")+1,t.length),!0}),null==hljs.getLanguage(n.toLowerCase())&&(o=hljs.highlightAuto(t.text()),t.removeClass("language-"+n),null==(n=o.language)&&(n="text"),t.addClass("language-"+n))}),$(".mdui-typo pre code").each(function(t,o){hljs.lineNumbersBlock(o)}),$(".mdui-typo pre code").each(function(){$(this).hasClass("inited")||(hljs.highlightElement(this),$(this).addClass("inited"))})},autoDarkTips:function(){"true"==localStorage.getItem("autoDark")&&null==localStorage.getItem("darkTipsOk")&&(localStorage.setItem("darkTipsOk",0),mdui.snackbar({message:"已自动切换黑暗模式🌙",position:"right-top"}))},table:function(){$(".mdui-typo>table").addClass("mdui-table mdui-table-hoverable").wrap('<div class="mdui-table-fluid">')}};document.addEventListener("DOMContentLoaded",function(){Object.values(dnxrzl).forEach(function(t){return t()})});